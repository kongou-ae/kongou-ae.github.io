---
title: Catalyst 2960をぷちL3SWにしよう
author: kongou_ae
layout: post
date: 2011-09-04
url: /blog/archives/451
categories:
  - network
---
　Catalsyt2960シリーズといえばL2SWの代名詞ですが、最近のIOSとフィーチャセットによっては、ちょいとしたL3SWとしても利用可能なので遊んでみました。今回利用した機種は、Catalyst 2960S-24TS-Lです。

### ①SDMテンプレードの変更が必要

　ぷちL3SWに出来るのはLAN-BASEだけですが（LAN-Liteは不可）、そのままでは肝心の「ip routing」コマンド自体が入りません。「sdm prefer lan-routing」コマンドからの再起動でSDMテンプレートを切り替える必要があります。

### ②スタティックルートは16個まで

　17個目を入れようとすると「16個しか入れられねーよﾊﾞｰｶ」みたいなエラーメッセージが出ます。

### ③InterfaceVlanがたくさん作れる＆HSRPがしゃべれる

　ただのC2960だとIPアドレスの振れるInterfaceVlanは1つしか作れませんが、ぷちL3SW化させると16個作れます。当然、InterfaceVlanに対してHSRPを設定することも可能です。Catalyst2960S2台に設定したHSRPがちゃんと切り替わった時は、おもわず笑ってしまいました。

### ④Routed Portとしては使えず

　「これは無理だろー」と思いつつ、物理インターフェースの設定で「no switchport」を投入してみました所、見事に弾かれました。

### ⑤DynamicRoutingは無理

　「これも無理だろー」と思いつつ、グローバルコンフィグレーションで「router ?」を入れてみましたが、やはり後続の候補は表示されず。

### 何につかうんだろう

　検証していた時は、これまでのCatalyst2960には入るはずのないConfigが色々入ってちゃんと動いたので、かなり面白かったです。C2960上でHSRPの切り替わりログが表示されるとは。。。

　ですが、これって何に使うんでしょうね。。。小さな事務所など、C3550/C3750ほどのスペックはいらないけども、L3SWが欲しいみたいな時に使うんでしょうかね。。。Ciscoがどういうシーンを想定してこの機能を追加したのかイマイチ分りません。。。